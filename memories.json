{
  "last_updated": "2026-02-14",
  "memories": [
    {
      "id": "mem_001",
      "type": "observation",
      "created": "2026-02-14",
      "session": "add-notes-to-receipts",
      "content": "The Protonmail forwarding delimiter is confirmed by the user as '------- Forwarded Message -------' (7 hyphens each side, title-cased 'Forwarded Message'). Previously assumed '---------- Forwarded message ----------' which was wrong. The user confirmed this directly.",
      "severity": "low",
      "tags": ["protonmail", "cloudmailin", "delimiter", "confirmed"]
    },
    {
      "id": "mem_002",
      "type": "architectural_decision",
      "created": "2026-02-14",
      "session": "add-notes-to-receipts",
      "content": "Auto-forwarding from Protonmail was never set up. The user manually forwards all PayPal receipt emails. This means the notes feature does not conflict with an existing auto-forward rule -- there is no merge/dedup problem between automated and manual forwards. The entire pipeline is manual-forward-only.",
      "severity": "medium",
      "tags": ["protonmail", "forwarding", "architecture"]
    },
    {
      "id": "mem_003",
      "type": "architectural_decision",
      "created": "2026-02-14",
      "session": "add-notes-to-receipts",
      "content": "Google Sheet column layout is: A=Date, B=Amount, C=Merchant, D=Transaction ID. Column E is planned for Notes. The is_duplicate() function checks column 4 (Transaction ID) via col_values(4).",
      "severity": "low",
      "tags": ["google-sheets", "schema"]
    },
    {
      "id": "mem_004",
      "type": "observation",
      "created": "2026-02-14",
      "session": "add-notes-to-receipts",
      "content": "UNVERIFIED ASSUMPTION: The plan assumes CloudMailin's JSON webhook payload includes a 'plain' field containing the plain-text version of the email body. The current app.py only extracts 'html' and 'headers' â€” there is no evidence in the codebase that 'plain' exists. The entire notes-extraction approach depends on this field being present. Must be verified against CloudMailin docs or a real payload before execution begins.",
      "severity": "high",
      "status": "unverified",
      "tags": ["cloudmailin", "payload", "blocking", "unverified"]
    }
  ]
}
